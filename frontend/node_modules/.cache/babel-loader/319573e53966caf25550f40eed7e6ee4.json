{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport Axios from '../../axios.js';\nexport const getQuestion = createAsyncThunk('question/get', async (number, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    const response = await Axios.get(`/question/${number}`);\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return rejectWithValue(err.response.data);\n  }\n});\nexport const submitTest = createAsyncThunk('question/submit', async (data, _ref2) => {\n  let {\n    rejectWithValue,\n    getState\n  } = _ref2;\n\n  try {\n    const state = getState();\n    const name = state.testReducer.name;\n    const answers = state.testRedu;\n    const d = {\n      answers,\n      name\n    };\n    const response = await Axios.post('/test', d);\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return rejectWithValue(err.response.data);\n  }\n});\nconst testReducer = createSlice({\n  name: \"question\",\n  initialState: {\n    name: '',\n    question: {},\n    answers: [],\n    result: {},\n    loading: false,\n    error: ''\n  },\n  reducers: {\n    addAnswer: (state, action) => {\n      console.log(action.payload);\n      state.answers.push(action.payload);\n    },\n    addName: (state, action) => {\n      state.name = action.payload;\n    }\n  },\n  extraReducers: {\n    [getQuestion.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.question = action.payload._doc;\n    },\n    [getQuestion.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [getQuestion.rejected]: (state, action) => {\n      state.loading = false;\n      state.error = 'Cannot fetch question';\n    },\n    [submitTest.fulfilled]: (state, action) => {\n      state.result = action.payload;\n      state.loading = false;\n    },\n    [submitTest.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [submitTest.rejected]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    }\n  }\n});\nexport const {\n  addAnswer,\n  addName\n} = testReducer.actions;\nexport default testReducer.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","Axios","getQuestion","number","rejectWithValue","response","get","data","err","console","log","submitTest","getState","state","name","testReducer","answers","testRedu","d","post","initialState","question","result","loading","error","reducers","addAnswer","action","payload","push","addName","extraReducers","fulfilled","_doc","pending","rejected","actions","reducer"],"sources":["/home/pranavkv/sps workout /interview/Qubex/frontend/src/state/reducers/testReducer.js"],"sourcesContent":["import { createSlice , createAsyncThunk } from \"@reduxjs/toolkit\";\nimport Axios from '../../axios.js';\n\nexport const getQuestion = createAsyncThunk('question/get',async (number,{rejectWithValue}) => {\n    try{\n        const response = await Axios.get(`/question/${number}`); \n        return response.data;   \n    }catch(err){\n        console.log(err);\n        return rejectWithValue(err.response.data);\n    }\n});\n\nexport const submitTest = createAsyncThunk('question/submit',async (data,{rejectWithValue,getState}) => {\n    try{\n        const state = getState();\n        const name = state.testReducer.name;\n        const answers = state.testRedu\n        const d = {  answers , name };        \n        const response = await Axios.post('/test',d);\n        return response.data;\n    }catch(err){\n        console.log(err);\n        return rejectWithValue(err.response.data);\n    }\n} )\n\nconst testReducer = createSlice({\n    name : \"question\",\n    initialState : {\n        name : '',\n        question : {},\n        answers : [],\n        result : {},\n        loading : false,\n        error : ''\n    },\n    reducers : {\n        addAnswer : (state,action) => {\n            console.log(action.payload);\n            state.answers.push(action.payload);\n        },\n        addName : (state,action) => {\n            state.name = action.payload;\n        }\n    },\n    extraReducers : {\n        [getQuestion.fulfilled] : (state,action) => {\n            state.loading = false;\n            state.question = action.payload._doc;\n        },\n        [getQuestion.pending] : (state,action) => {\n            state.loading = true\n        },\n        [getQuestion.rejected] : (state,action) => {\n            state.loading = false;\n            state.error = 'Cannot fetch question';\n        },\n        [submitTest.fulfilled] : (state,action) => {\n            state.result = action.payload;\n            state.loading = false;\n        },\n        [submitTest.pending] : (state,action) => {\n            state.loading = true;\n        },\n        [submitTest.rejected] : (state,action) => {\n            state.error = action.payload;\n            state.loading = false;\n        }\n    }\n});\n\nexport const { addAnswer , addName } = testReducer.actions;\n\nexport default testReducer.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}