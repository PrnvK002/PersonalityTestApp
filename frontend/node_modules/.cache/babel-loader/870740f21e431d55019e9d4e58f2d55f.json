{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport Axios from '../../axios.js';\nexport const getQuestion = createAsyncThunk('question/get', async (number, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    const response = await Axios.get(`/question/${number}`);\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return rejectWithValue(err.response.data);\n  }\n});\nexport const submitTest = createAsyncThunk('question/submit', async (data, _ref2) => {\n  let {\n    rejectWithValue,\n    getState\n  } = _ref2;\n\n  try {\n    const state = getState;\n    const response = await Axios.post('/test', data);\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return rejectWithValue(err.response.data);\n  }\n});\nconst testReducer = createSlice({\n  name: \"question\",\n  initialState: {\n    name: '',\n    question: {},\n    answers: [],\n    result: {},\n    loading: false,\n    error: ''\n  },\n  reducers: {\n    addAnswer: (state, action) => {\n      console.log(action.payload);\n      state.answers.push(action.payload);\n    },\n    addName: (state, action) => {\n      state.name = action.payload;\n    }\n  },\n  extraReducers: {\n    [getQuestion.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.question = action.payload._doc;\n    },\n    [getQuestion.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [getQuestion.rejected]: (state, action) => {\n      state.loading = false;\n      state.error = 'Cannot fetch question';\n    },\n    [submitTest.fulfilled]: (state, action) => {\n      state.result = action.payload;\n      state.loading = false;\n    },\n    [submitTest.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [submitTest.rejected]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    }\n  }\n});\nexport const {\n  addAnswer,\n  addName\n} = testReducer.actions;\nexport default testReducer.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","Axios","getQuestion","number","rejectWithValue","response","get","data","err","console","log","submitTest","getState","state","post","testReducer","name","initialState","question","answers","result","loading","error","reducers","addAnswer","action","payload","push","addName","extraReducers","fulfilled","_doc","pending","rejected","actions","reducer"],"sources":["/home/pranavkv/sps workout /interview/Qubex/frontend/src/state/reducers/testReducer.js"],"sourcesContent":["import { createSlice , createAsyncThunk } from \"@reduxjs/toolkit\";\nimport Axios from '../../axios.js';\n\nexport const getQuestion = createAsyncThunk('question/get',async (number,{rejectWithValue}) => {\n    try{\n        const response = await Axios.get(`/question/${number}`); \n        return response.data;   \n    }catch(err){\n        console.log(err);\n        return rejectWithValue(err.response.data);\n    }\n});\n\nexport const submitTest = createAsyncThunk('question/submit',async (data,{rejectWithValue,getState}) => {\n    try{\n        const state = getState\n        const response = await Axios.post('/test',data);\n        return response.data;\n    }catch(err){\n        console.log(err);\n        return rejectWithValue(err.response.data);\n    }\n} )\n\nconst testReducer = createSlice({\n    name : \"question\",\n    initialState : {\n        name : '',\n        question : {},\n        answers : [],\n        result : {},\n        loading : false,\n        error : ''\n    },\n    reducers : {\n        addAnswer : (state,action) => {\n            console.log(action.payload);\n            state.answers.push(action.payload);\n        },\n        addName : (state,action) => {\n            state.name = action.payload;\n        }\n    },\n    extraReducers : {\n        [getQuestion.fulfilled] : (state,action) => {\n            state.loading = false;\n            state.question = action.payload._doc;\n        },\n        [getQuestion.pending] : (state,action) => {\n            state.loading = true\n        },\n        [getQuestion.rejected] : (state,action) => {\n            state.loading = false;\n            state.error = 'Cannot fetch question';\n        },\n        [submitTest.fulfilled] : (state,action) => {\n            state.result = action.payload;\n            state.loading = false;\n        },\n        [submitTest.pending] : (state,action) => {\n            state.loading = true;\n        },\n        [submitTest.rejected] : (state,action) => {\n            state.error = action.payload;\n            state.loading = false;\n        }\n    }\n});\n\nexport const { addAnswer , addName } = testReducer.actions;\n\nexport default testReducer.reducer;"],"mappings":"AAAA,SAASA,WAAT,EAAuBC,gBAAvB,QAA+C,kBAA/C;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEA,OAAO,MAAMC,WAAW,GAAGF,gBAAgB,CAAC,cAAD,EAAgB,OAAOG,MAAP,WAAoC;EAAA,IAAtB;IAACC;EAAD,CAAsB;;EAC3F,IAAG;IACC,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAAW,aAAYH,MAAO,EAA9B,CAAvB;IACA,OAAOE,QAAQ,CAACE,IAAhB;EACH,CAHD,CAGC,OAAMC,GAAN,EAAU;IACPC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,OAAOJ,eAAe,CAACI,GAAG,CAACH,QAAJ,CAAaE,IAAd,CAAtB;EACH;AACJ,CAR0C,CAApC;AAUP,OAAO,MAAMI,UAAU,GAAGX,gBAAgB,CAAC,iBAAD,EAAmB,OAAOO,IAAP,YAA2C;EAAA,IAA/B;IAACH,eAAD;IAAiBQ;EAAjB,CAA+B;;EACpG,IAAG;IACC,MAAMC,KAAK,GAAGD,QAAd;IACA,MAAMP,QAAQ,GAAG,MAAMJ,KAAK,CAACa,IAAN,CAAW,OAAX,EAAmBP,IAAnB,CAAvB;IACA,OAAOF,QAAQ,CAACE,IAAhB;EACH,CAJD,CAIC,OAAMC,GAAN,EAAU;IACPC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,OAAOJ,eAAe,CAACI,GAAG,CAACH,QAAJ,CAAaE,IAAd,CAAtB;EACH;AACJ,CATyC,CAAnC;AAWP,MAAMQ,WAAW,GAAGhB,WAAW,CAAC;EAC5BiB,IAAI,EAAG,UADqB;EAE5BC,YAAY,EAAG;IACXD,IAAI,EAAG,EADI;IAEXE,QAAQ,EAAG,EAFA;IAGXC,OAAO,EAAG,EAHC;IAIXC,MAAM,EAAG,EAJE;IAKXC,OAAO,EAAG,KALC;IAMXC,KAAK,EAAG;EANG,CAFa;EAU5BC,QAAQ,EAAG;IACPC,SAAS,EAAG,CAACX,KAAD,EAAOY,MAAP,KAAkB;MAC1BhB,OAAO,CAACC,GAAR,CAAYe,MAAM,CAACC,OAAnB;MACAb,KAAK,CAACM,OAAN,CAAcQ,IAAd,CAAmBF,MAAM,CAACC,OAA1B;IACH,CAJM;IAKPE,OAAO,EAAG,CAACf,KAAD,EAAOY,MAAP,KAAkB;MACxBZ,KAAK,CAACG,IAAN,GAAaS,MAAM,CAACC,OAApB;IACH;EAPM,CAViB;EAmB5BG,aAAa,EAAG;IACZ,CAAC3B,WAAW,CAAC4B,SAAb,GAA0B,CAACjB,KAAD,EAAOY,MAAP,KAAkB;MACxCZ,KAAK,CAACQ,OAAN,GAAgB,KAAhB;MACAR,KAAK,CAACK,QAAN,GAAiBO,MAAM,CAACC,OAAP,CAAeK,IAAhC;IACH,CAJW;IAKZ,CAAC7B,WAAW,CAAC8B,OAAb,GAAwB,CAACnB,KAAD,EAAOY,MAAP,KAAkB;MACtCZ,KAAK,CAACQ,OAAN,GAAgB,IAAhB;IACH,CAPW;IAQZ,CAACnB,WAAW,CAAC+B,QAAb,GAAyB,CAACpB,KAAD,EAAOY,MAAP,KAAkB;MACvCZ,KAAK,CAACQ,OAAN,GAAgB,KAAhB;MACAR,KAAK,CAACS,KAAN,GAAc,uBAAd;IACH,CAXW;IAYZ,CAACX,UAAU,CAACmB,SAAZ,GAAyB,CAACjB,KAAD,EAAOY,MAAP,KAAkB;MACvCZ,KAAK,CAACO,MAAN,GAAeK,MAAM,CAACC,OAAtB;MACAb,KAAK,CAACQ,OAAN,GAAgB,KAAhB;IACH,CAfW;IAgBZ,CAACV,UAAU,CAACqB,OAAZ,GAAuB,CAACnB,KAAD,EAAOY,MAAP,KAAkB;MACrCZ,KAAK,CAACQ,OAAN,GAAgB,IAAhB;IACH,CAlBW;IAmBZ,CAACV,UAAU,CAACsB,QAAZ,GAAwB,CAACpB,KAAD,EAAOY,MAAP,KAAkB;MACtCZ,KAAK,CAACS,KAAN,GAAcG,MAAM,CAACC,OAArB;MACAb,KAAK,CAACQ,OAAN,GAAgB,KAAhB;IACH;EAtBW;AAnBY,CAAD,CAA/B;AA6CA,OAAO,MAAM;EAAEG,SAAF;EAAcI;AAAd,IAA0Bb,WAAW,CAACmB,OAA5C;AAEP,eAAenB,WAAW,CAACoB,OAA3B"},"metadata":{},"sourceType":"module"}